tag a is vec2;
tag a2 is vec2;
tag b is vec3;
tag c is b;
tag d is b;

a x = [1., 2.];
a2 x2 = [2., 1.];
b y = [2., 1., 2.];
c z = [3., 3., 3.];
d z2 = [2., 2., 2.];

// Vector safety
a s11 = x + [2., 1.];
vec2 s12 = x + x2;
a s13 = (x * 2.) + ([1., 2.] * 1.) - [1., 2.];
vec3 s14 = y - [1., 2., 3.] + z;
b s15 = y + z - z - y;
//vec3 s16 = z .* y + [1., 2., 3.];
b s17 = z + z2;
vec3 s18 = z + z2;

a->b v2_b = [[1., 1.], [1., 1.], [1., 1.]];
a->vec3 a_v3 = v2_b;
c->vec3 v3_c = [[1., 1., 1.], [1., 1., 1.], [1., 1., 1.]];

// Matrix safety
//c->b s22 = v3_c * 2.;
mat3x2 s23 = v2_b .* (a_v3 * 2.);

print 1;